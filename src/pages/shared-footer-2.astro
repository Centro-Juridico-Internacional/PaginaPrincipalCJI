---
import Footer2 from '../layouts/Footer2.astro';
import '../styles/global.css';

// Ejemplo de personalización:
// 1. Ocultar Miami (USA)
// 2. Agregar un número extra a Bogotá
// 3. Ocultar las tarjetas de contacto superiores (opcional)

const config = {
	hideLocations: ['USA'],
	locationOverrides: {
		Bogota: {
			cels: ['311 000 00 00 (Número Extra)']
		}
	},
	showContactCards: false
};
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Footer Personalizado | CJI</title>
		<style>
			body {
				margin: 0;
				padding: 0;
				overflow: hidden;
				background-color: #042501;
			}
		</style>
	</head>
	<body class="min-h-screen bg-[#042501]">
		<div id="footer-content" class="w-full">
			<Footer2 {...config} />
		</div>

		<script>
			const sendHeight = () => {
				const content = document.getElementById('footer-content');
				if (!content) return;

				const height = content.offsetHeight || content.scrollHeight || document.body.offsetHeight;

				window.parent.postMessage(
					{
						type: 'cji-footer-resize',
						height: height,
						source: 'shared-footer-2'
					},
					'*'
				);
			};

			// Execute on various events to ensure height is correct
			window.addEventListener('load', () => {
				sendHeight();
			});

			window.addEventListener('resize', sendHeight);

			// Fallbacks
			setTimeout(sendHeight, 300);
			setTimeout(sendHeight, 1000);
			setTimeout(sendHeight, 3000);

			// Observe DOM changes
			if (window.ResizeObserver) {
				const observer = new ResizeObserver((entries) => {
					for (let entry of entries) {
						sendHeight();
					}
				});
				observer.observe(document.body);
			}
		</script>
	</body>
</html>
